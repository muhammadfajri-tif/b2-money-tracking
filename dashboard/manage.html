<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <!-- DataTables CSS -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css"
    />
    <link rel="stylesheet" href="../css/dashboard-style.css" />
    <title>Responsive Dashboard Design #1 | AsmrProg</title>
  </head>

  <body>
    <!-- Sidebar Section -->
    <aside>
      <div class="toggle">
        <div class="logo">
          <img src="../images/logo.png" />
          <h2>B2<span class="danger">Proyek</span></h2>
        </div>
        <div class="close" id="close-btn">
          <span class="material-icons-sharp"> close </span>
        </div>
      </div>

      <div class="sidebar">
        <a href="/dashboard/index.html">
          <span class="material-icons-sharp"> dashboard </span>
          <h3>Dashboard</h3>
        </a>
        <a href="/dashboard/manage.html" class="active">
          <span class="material-icons-sharp"> account_balance_wallet </span>
          <h3>Manage</h3>
        </a>
        <a href="/dashboard/analytics.html">
          <span class="material-icons-sharp"> insights </span>
          <h3>Analytics</h3>
        </a>
        <a href="/dashboard/settings.html">
          <span class="material-icons-sharp"> settings </span>
          <h3>Settings</h3>
        </a>
        <a href="/dashboard/support.html">
          <span class="material-icons-sharp"> help_outline </span>
          <h3>Support</h3>
        </a>
      </div>
    </aside>
    <!-- End of Sidebar Section -->
    <div class="main-container">
      <!-- Header -->

      <header>
        <div class="header-date">
          <button id="menu-btn">
            <span class="material-icons-sharp"> menu </span>
          </button>
          <i class="fa fa-cloud"></i>
          <div class="date"></div>
        </div>
        <div class="header-search">
          <input type="text" placeholder="Search" />
        </div>
        <div class="haeder-menu">
          <div class="nav">
            <div class="dark-mode">
              <span class="material-icons-sharp active"> light_mode </span>
              <span class="material-icons-sharp"> dark_mode </span>
            </div>

            <div class="profile">
              <div class="info">
                <p>Hey, <b>Hanif Ahmad</b></p>
              </div>
              <div class="profile-photo">
                <a data-modal-target="#modal" href="#">
                  <img src="../images/profil.jpeg" />
                </a>
              </div>
            </div>
          </div>
        </div>
      </header>
      <!-- End Header -->
      <div class="modal" id="modal">
        <div class="modal-header">
          <div class="title">Hanif Ahmad</div>
          <button data-close-button class="close-button">&times;</button>
        </div>
        <div class="modal-body">
          <div class="modal-image">
            <img src="../images/profil.jpeg" />
          </div>
          <div class="modal-nav">
            <a href="#">
              <span class="material-icons-sharp"> logout </span>
              <h3>Logout</h3>
            </a>
          </div>
        </div>
      </div>
      <div id="overlay"></div>
      <div class="container">
        <!-- Main Content -->
        <main>
            <div class="file-select" style="display: none"></div>
            <h1 class="head-form">Manage Your Account</h1>
    
            <!-- Section table income  -->
            <div class="form-container">
              <h2>Data Pemasukan</h2>
              <div class="table-container">
                <table id="user-income-transaction-table" class="dataTable">
                  <thead>
                    <tr>
                      <th>No</th>
                      <th>Date</th>
                      <th>Amount</th>
                      <th>Category</th>
                      <th>Description</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <!-- automatic insert via js, code: js/history.js -->
                  <tbody></tbody>
                </table>
              </div>
            </div>
            <!-- End of Section table income -->

            <!-- Section table spending -->
            <div class="form-container">
                <h2>Data Pengeluaran</h2>
                <div class="table-container">
              <table id="user-spending-transaction-table" class="dataTable">
                <thead>
                  <tr>
                    <th>No</th>
                    <th>Date</th>
                    <th>Amount</th>
                    <th>Category</th>
                    <th>Description</th>
                    <th>Action</th>
                </tr>
                </thead>
                <!-- automatic insert via js, code: js/history.js -->
                <tbody></tbody>
            </table>
            </div>
            <!-- End Section table spending -->
          </div>
        </main>
        <!-- End of Main Content -->

        <!-- Right Section -->
        <section class="form-section">
            <div class="form-wrapper">
              <h2>Add Income</h2>
              <form id="add-income-form">
                <div class="form-group">
                  <label for="date-income">Date:</label>
                  <input
                    id="date-income"
                    name="date-income"
                    type="date"
                    required
                  />
                </div>
  
                <div class="form-group">
                  <label for="amount-income">Amount:</label>
                  <input
                    id="amount-income"
                    name="amount-income"
                    type="text"
                    id="amount"
                    name="amount"
                    placeholder="Rp0"
                    required
                  />
                </div>
  
                <div class="form-group">
                  <label for="category-income">Category:</label>
                  <select id="category-income" name="category-income" required>
                    <option value="grants">Grants</option>
                    <option value="allowance">Allowance</option>
                    <option value="salary">Salary</option>
                    <option value="others">Others</option>
                  </select>
                </div>
  
                <div class="form-group">
                  <label for="desc-income">Note:</label>
                  <textarea
                    id="desc-income"
                    name="desc-income"
                    rows="5"
                    cols="25"
                    placeholder="Notes..."
                  ></textarea>
                </div>
  
                <button type="submit" name="submit-income">Save</button>
              </form>
            </div>
  
            <div class="form-wrapper">
              <h2>Add Spending</h2>
              <form id="add-spending-form">
                <div class="form-group">
                  <label for="date-spending">Date:</label>
                  <input
                    id="date-spending"
                    name="date-spending"
                    type="date"
                    required
                  />
                </div>
  
                <div class="form-group">
                  <label for="amount-spending">Amount:</label>
                  <input
                    id="amount-spending"
                    name="amount-spending"
                    type="text"
                    id="amount"
                    name="amount"
                    placeholder="Rp0"
                    required
                  />
                </div>
  
                <div class="form-group">
                  <label for="category-spending">Category:</label>
                  <select
                    id="category-spending"
                    name="category-spending"
                    required
                  >
                    <option value="food">Food/Drink</option>
                    <option value="entertainment">Entertainment</option>
                    <option value="transportation">Transportation</option>
                    <option value="household">Household</option>
                    <option value="college">College</option>
                    <option value="medical">Medical</option>
                    <option value="others">Others</option>
                  </select>
                </div>
  
                <div class="form-group">
                  <label for="desc-spending">Note:</label>
                  <textarea
                    id="desc-spending"
                    name="desc-spending"
                    rows="5"
                    cols="25"
                    placeholder="Notes..."
                  ></textarea>
                </div>
  
                <button type="submit" name="submit-spending">Save</button>
              </form>
            </div>
          </section>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script type="module" src="../js/index.js"></script>
    <script type="module" src="../js/utils/formatter.mjs"></script>
    <script type="module" src="../js/utils/transaction.mjs"></script>

    <script src="../js/orders.js"></script>
     <!-- jQuery -->
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

     <!-- DataTables JavaScript -->
     <script
       type="text/javascript"
       src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"
     ></script>
 
     <script>
       // Function to format currency (in this case, Indonesian Rupiah)
       function formatCurrency(amount) {
         return new Intl.NumberFormat("id-ID", {
           style: "currency",
           currency: "IDR",
           minimumFractionDigits: 0,
           maximumFractionDigits: 0,
         }).format(amount);
       }
 
       // Function to format date
       function formatDate(dateString) {
         const options = { year: "numeric", month: "short", day: "numeric" };
         return new Date(dateString).toLocaleDateString("en-US", options);
       }
 
       $(document).ready(function () {
         $("#user-income-transaction-table").DataTable({
           columnDefs: [
             {
               targets: 1, // index of the Date column
               render: function (data, type, row) {
                 return formatDate(data);
               },
             },
             {
               targets: 2, // index of the Amount column
               render: function (data, type, row) {
                 return formatCurrency(data);
               },
             },
           ],
         });
 
         $("#user-spending-transaction-table").DataTable({
           columnDefs: [
             {
               targets: 1, // index of the Date column
               render: function (data, type, row) {
                 return formatDate(data);
               },
             },
             {
               targets: 2, // index of the Amount column
               render: function (data, type, row) {
                 return formatCurrency(data);
               },
             },
           ],
         });
       });
     </script>
</body>
</html>
